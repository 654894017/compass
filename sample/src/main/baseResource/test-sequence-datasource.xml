<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ds="http://www.sogou.com/schema/datasource"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
	http://www.sogou.com/schema/datasource http://www.sogou.com/schema/datasource/datasource.xsd">

	<!-- Shards Datasources -->
	<bean id="default_sequence_ds" class="com.mchange.v2.c3p0.ComboPooledDataSource"
		abstract="true" destroy-method="close">
		<property name="driverClass">
			<value>${datasource.oracle.driverClassName}</value>
		</property>
		<property name="user">
			<value>${datasource.sequence.username}</value>
		</property>
		<property name="password">
			<value>${datasource.sequence.password}</value>
		</property>
		<property name="maxPoolSize">
			<value>${datasource.sequence.maxPoolSize}</value>
		</property>
		<property name="minPoolSize">
			<value>${datasource.sequence.minPoolSize}</value>
		</property>
		<property name="initialPoolSize">
			<value>${datasource.sequence.initialPoolSize}</value>
		</property>
		<property name="idleConnectionTestPeriod">
			<value>${datasource.sequence.idleConnectionTestPeriod}</value>
		</property>
		<property name="maxIdleTime">
			<value>${datasource.sequence.maxIdleTime}</value>
		</property>
		<property name="checkoutTimeout">
			<value>${datasource.sequence.checkoutTimeout}</value>
		</property>
	</bean>

	<ds:datasource id="sequenceDataSource"
		datasource-prototype="default_sequence_ds">
			<ds:group name="sequence">
				<ds:master jdbcUrl="${datasource.sequence}"/>
 			</ds:group>
			

			<!-- <ds:availabilityDetector pingStatement="select 1 from dual" /> --><!-- oracle心跳探测语句 -->
			<!-- <ds:loadbalance loadBalanceStrategy="weightedRandom"/> --><!-- 基于权重进行负载均衡,如不设置默认权重全为1 -->
	 </ds:datasource>

</beans>